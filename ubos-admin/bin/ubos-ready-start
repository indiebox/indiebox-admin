#!/usr/bin/perl
#
# Invoked when ubos-ready.service is started
#
# Copyright (C) 2014 and later, Indie Computing Corp. All rights reserved. License: see package.
#

use strict;
use warnings;

use UBOS::Host;
use UBOS::Logging;
use UBOS::StaffManager;

UBOS::Logging::initialize( 'ubos-admin', 'ubos-ready-start', 0, '/etc/ubos/log-system.conf' );

UBOS::Host::ensureSnapperConfig();
UBOS::Host::runAfterBootCommandsIfNeeded();
UBOS::StaffManager::performBootActions();

UBOS::Host::setState( 'Operational' );

1;
